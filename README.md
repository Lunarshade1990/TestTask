# TestTask
Задание выполнено с использованием jdbc и spring-mvc.
В проекте создано несколько пакетов:
  1) Util - отвечает за создание таблицы и импортирования CVS файла. 
  DataBaseUtil.createDbUserTable(String tableName, String sql) создаёт новую таблицу.
  DataBaseUtil.CVSImport(String table_name, String path) отвечает за импорт файла в базу. Метод настроен под формат файла, который шёл к заданию. 
  Форматирование дат происходит на основе данных о типах таблицы и соответствии строки числу.
  
  В классе Sql находятся запросы к базе данных, которые используются при создании таблицы, а так же получении из неё данных.
  
  2) В пакете Model находится класс UserDara, представляющий таблицу из базы.
  
  3) В пакете DAO находится класс, отвечающий за запросы к таблице и методы, возвращающие List\<UserData\>
  
  4) В пакете Controller находится 2 контроллера. MainPageController отвечает за переход на ссылки для получения данных из базы.
  UserDataImpController отвечает за формирование страниц с запросами. Представления формируются в файлах jsp, в которые передаются
  полученные от UserDataImpl List\<UserData\>.
  
  Ссылки, используемые в проекте:
  
  Главная страница:
  http://localhost:8080/main-page
  
  Список пользователей, не закончивших операцию:
  http://localhost:8080/unfinished_users
  
  5 самых популярных форм:
  http://localhost:8080/top-five-form-controller
  
  формы за последний час:
  http://localhost:8080/used-form-for-last-hour
  
  

Текст задания:
Тестовое задание на вакансию java разработчика
Используемые технологии:
Java 8
Spring, Hibernate по желанию
Maven или Gradle
Tomcat 8 или Jetty
PostgresSQL 9.6
Html 5\CSS
Необходимо написать импортер данных из файла test_case.csv в базу данных PostgreSQL. Структуру можно использовать такую же как в файле.
По импортированным данным сформировать три типа отчетов. Должны отображаться на разных HTML страницах (по желанию можно построить графики или чарты)
А) Вывести список пользователей и используемых ими форм за последний час
Б) Вывести список пользователей, которые начали активность на форме и не дошли до конца. Например, для услуг grp dszn_* начальное состояние start, конечное состояние send. Вывести на каком шаге остановился.
В) Составить ТОП – 5 самых используемых форм.
Описание данных в файле test_case.csv:
ssoid – Уникальный идентификатор пользователей
ts – Время
grp - Группа события
type – Тип события
subtype – Подтип события
url – Адрес с которого пришло событие
orgid – Организация предоставляющая услугу
formid – Идентификатор формы
ltpa – Ключ сессии (в данном наборе пустой)
sudirresponse – Ответ от сервиса авторизации (в данном наборе пустой)
ymdh – Дата в формате YYYY-MM-DD-HH
Срок выполнения задания – не более недели.
